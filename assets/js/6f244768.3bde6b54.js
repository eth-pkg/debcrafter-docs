"use strict";(self.webpackChunkdebcrafter_docs=self.webpackChunkdebcrafter_docs||[]).push([[6576],{5788:(e,a,t)=>{t.d(a,{Iu:()=>c,yg:()=>m});var n=t(1504);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=n.createContext({}),o=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},c=function(e){var a=o(e.components);return n.createElement(p.Provider,{value:a},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=o(t),u=r,m=d["".concat(p,".").concat(u)]||d[u]||g[u]||i;return t?n.createElement(m,l(l({ref:a},c),{},{components:t})):n.createElement(m,l({ref:a},c))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=u;var s={};for(var p in a)hasOwnProperty.call(a,p)&&(s[p]=a[p]);s.originalType=e,s[d]="string"==typeof e?e:r,l[1]=s;for(var o=2;o<i;o++)l[o]=t[o];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},828:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var n=t(5072),r=(t(1504),t(5788));const i={},l="Debian Shared fields",s={unversionedId:"package-specification/sps/debian-fields",id:"package-specification/sps/debian-fields",title:"Debian Shared fields",description:"conflicts",source:"@site/docs/06-package-specification/02-sps/01-debian-fields.md",sourceDirName:"06-package-specification/02-sps",slug:"/package-specification/sps/debian-fields",permalink:"/docs/package-specification/sps/debian-fields",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06-package-specification/02-sps/01-debian-fields.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SPS",permalink:"/docs/package-specification/sps/"},next:{title:"Shared Simple fields",permalink:"/docs/package-specification/sps/shared-fields"}},p={},o=[{value:"conflicts",id:"conflicts",level:2},{value:"depends",id:"depends",level:2},{value:"long_doc",id:"long_doc",level:2},{value:"name (required)",id:"name-required",level:2},{value:"provides",id:"provides",level:2},{value:"recommends",id:"recommends",level:2},{value:"suggests",id:"suggests",level:2},{value:"summary (required)",id:"summary-required",level:2}],c={toc:o},d="wrapper";function g(e){let{components:a,...t}=e;return(0,r.yg)(d,(0,n.c)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"debian-shared-fields"},"Debian Shared fields"),(0,r.yg)("h2",{id:"conflicts"},"conflicts"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: Set of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example:",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'conflicts = ["nbxplorer (<< 2.1.47)", "python3-lnpbp-testkit (<< 0.1.4)"]\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'conflicts = ["bitcoin-chain-mode-{variant}"]\n')))),(0,r.yg)("p",null,"When one binary package declares a conflict with another using a Conflicts field, dpkg will refuse to allow them to be unpacked on the system at the same time. This is a stronger restriction than Breaks, which prevents the broken package from being configured while the breaking package is in the \u201cUnpacked\u201d state but allows both packages to be unpacked at the same time."),(0,r.yg)("h2",{id:"depends"},"depends"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: Set of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'depends = ["nodejs (>= 8.0.0)"]\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'depends = ["bitcoin-{variant}"]\n')))),(0,r.yg)("p",null,"This declares an absolute dependency. A package will not be configured unless all of the packages listed in its Depends field have been correctly configured (unless there is a circular dependency as described above)."),(0,r.yg)("p",null,"The Depends field should be used if the depended-on package is required for the depending package to provide a significant amount of functionality."),(0,r.yg)("p",null,"The Depends field should also be used if the postinst or prerm scripts require the depended-on package to be unpacked or configured in order to run. In the case of postinst configure, the depended-on packages will be unpacked and configured first. (If both packages are involved in a dependency loop, this might not work as expected; see the explanation a few paragraphs back.) In the case of prerm or other postinst actions, the package dependencies will normally be at least unpacked, but they may be only \u201cHalf-Installed\u201d if a previous upgrade of the dependency failed."),(0,r.yg)("p",null,"Finally, the Depends field should be used if the depended-on package is needed by the postrm script to fully clean up after the package removal. There is no guarantee that package dependencies will be available when postrm is run, but the depended-on package is more likely to be available if the package declares a dependency (particularly in the case of postrm remove). The postrm script must gracefully skip actions that require a dependency if that dependency isn\u2019t available."),(0,r.yg)("h2",{id:"long_doc"},"long_doc"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: List of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example:",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'long_doc = """This package provides a very simple, yet useful UI for accessing\nselfhost-enabled applications."""\n')))),(0,r.yg)("p",null,"Long documentation explaining of what your package provides. You can include multiple paragraph explaining in more detail of how to use or configure this packages."),(0,r.yg)("h2",{id:"name-required"},"name (required)"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Type: VPackageName")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Example:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},"name = bitcoin\n"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Variant Example:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'name = "bitcoin-timechain-@variant"\n')))),(0,r.yg)("p",null,"Name of your package. This will be the searchable name that people install."),(0,r.yg)("h2",{id:"provides"},"provides"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: Set of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'provides = ["selfhost-domain (= 1.1)"]\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'provides = ["bitcoin-chain-mode-{variant} (= 1.0)", "bitcoin-fullchain-{variant}"]\n')))),(0,r.yg)("p",null,'The "provides" field in Debian packaging allows a package to declare that it offers certain abstract capabilities or virtual packages. Other packages can then depend on or conflict with these virtual packages. This flexibility enables package managers to resolve dependencies and conflicts based on capabilities rather than specific package names, offering greater adaptability and choice for both package maintainers and users.'),(0,r.yg)("p",null,"See: ",(0,r.yg)("a",{parentName:"p",href:"https://www.debian.org/doc/debian-policy/ch-relationships.html#virtual-packages-provides"},"https://www.debian.org/doc/debian-policy/ch-relationships.html#virtual-packages-provides")),(0,r.yg)("h2",{id:"recommends"},"recommends"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: Set of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'recommends = ["selfhost (>= 0.1.5)", "selfhost (<< 0.2.0)"]\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'recommends = ["electrum-trustless-{variant} | electrum-trustless-regtest", "python3-pyqt5"]\n')))),(0,r.yg)("p",null,"This declares a strong, but not absolute, dependency."),(0,r.yg)("p",null,"The Recommends field should list packages that would be found together with this one in all but unusual installations."),(0,r.yg)("h2",{id:"suggests"},"suggests"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: Set of TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'suggests = ["bitcoin-cli"]\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'suggests = ["tor", "bitcoin-fullchain-{variant}"]\n')))),(0,r.yg)("p",null,"This is used to declare that one package may be more useful with one or more others. Using this field tells the packaging system and the user that the listed packages are related to this one and can perhaps enhance its usefulness, but that installing this one without them is perfectly reasonable."),(0,r.yg)("h2",{id:"summary-required"},"summary (required)"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Type: TemplateString"),(0,r.yg)("li",{parentName:"ul"},"Example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'summary = "Publishes bitcoin whitepaper as /bitcoin.pdf"\n'))),(0,r.yg)("li",{parentName:"ul"},"Variant example",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-toml"},'summary = "Marker package disabling integration of LND into BTCPayServer ({variant})"\n')))),(0,r.yg)("p",null,"Provides a short summary of what your package does."))}g.isMDXComponent=!0}}]);